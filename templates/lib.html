{% extends "layout.html" %}

{% block bodytable %}

<div class="decornav"></div>
<div class="user_nav">
	<br/>
	<a href="#">Users</a><br/>
	<a href="#">Loaned Books</a><br/>
	<a href="#">Overdue Books</a><br/>
	<a href="#">Users with Balance</a><br/>
</div>			

<!--TABLES-->
<div class="related_body">
	<div data-role="content" data-theme="d">
	    <table id="tableContent" data-role="table" data-mode="columntoggle" data-filter="true" class="ui-responsive table-stroke">
			{% set count = {'value': 0} %}
			<thead>
				<tr>
					{% for header in headers %}
						<th data-priority="{{ count.value + 1 }}">{{ header[0] }}</th>
					{% if count.update({'value': count.value + 1}) %} {% endif %}
					{% endfor %}
				</tr>
			</thead>
			<tbody>
				{% for entry in entries %}
				<tr>
					{% for i in range(count.value) %}
					<td>
						{% if i == 0 %}        
				       		<button data-mini="true" id={{ entry[i] }} onClick="librarianAction($(this));">{{ entry[i] }}</button>
				       	{% else %}
				       		{{ entry[i] }}
				       	{% endif %}
				     </td>
					{% endfor %}  
				</tr>
				{% endfor %}
			</tbody>	
	    </table>
	</div>
</div>

{% endblock %}

{% block loginMessage %}

	{% if email is defined %}

		<div class="msginfo">
			<p id="insertmsg">Welcome {{ email }}! <a href="#profForm" id="profileButton" data-rel="popup" data-position-to="window" data-transition="fade">Edit Profile</a></p>
		</div>

		<!-- Profile form -->
		<div data-role="popup" id="profForm" data-overlay-theme="b" data-theme="b" data-history="false">    
			<a id="butclose" href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
			<form id="profileForm">
				<div data-role="header">
					<div style="margin:35px; width:100%;"> 
					 	<h3 style="color: white">Update Profile</h3>
					</div>
				</div>
				<div data-role="content">
				<div 
					<div data-role="fieldcontain" class="ui-hide-label">
						<label for="name">Name</label>
						<input type="text" name="name" id="name" placeholder="Name"/>
					</div>
					<div data-role="fieldcontain" class="ui-hide-label">
						<label for="phone">Phone</label>
						<input type="text" name="phone" id="phone" placeholder="Phone ###-###-####"/>
					</div>
					<div data-role="fieldcontain" class="ui-hide-label">
						<label for="password2">Password</label>
						<input type="password" name="password2" id="password2" placeholder="Password"/>
					</div>
					<button type="button" id="updateButton" name="updateButton" data-inline="true">Submit</button>
				</div>
			</form>
		</div>
		<!-- End of profile form -->

	{% endif %}

{% endblock %}